@inherits Umbraco.Cms.Web.Common.Macros.PartialViewMacroPage
@using Umbraco.Cms.Core
@using Umbraco.Cms.Web.Common.PublishedModels
@using Umbraco.Cms.Core.Models

@{
    string? title = (string?)Model.MacroParameters["title"];
    string? content = (string?)Model.MacroParameters["content"];

    string? imageIdVal = (string?)Model.MacroParameters["image"];
    IPublishedContent? image = !string.IsNullOrWhiteSpace(imageIdVal) ? Umbraco.Media(imageIdVal) : null;
    bool valid = image != null;
}

<div class="imagecontent">
    <div class="container">
        <div class="row">
            <div class="m-auto p-3 p-md-5">
                <div class="col-md-12 col-12">
                    <div class="ps-0pt-4 pt-md-2">
                        @if (!string.IsNullOrWhiteSpace(title))
                        {
                            <div class="main-title">
                                <h2>@title</h2>
                            </div>
                        }
                    </div>
                </div>
                <div class="col-md-12 col-12">
                    <div class="row">
                        <div class="col-md-6 col-12 order-1 order-md-2">
                            <div class="pt-4 mb-2">
                                @if (valid)
                                {
                                    <img class="rounded mx-auto d-block" src="@image?.Url()" alt="@image?.Name" />
                                }
                            </div>
                        </div>
                        <div class="col-md-6 col-12 order-2 order-md-1">
                            <div class="p-0 p-md-4 ps-md-0">
                                @if (!string.IsNullOrWhiteSpace(content))
                                {
                                    <div class="content">
                                        <p class="mt-2">@content</p>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
